# 出价模式
![[Pasted image 20220310003714.png]]

## CPT
Cost Per Time，按时长付费。按天付费 Cost Per Day，通常也被叫成CPD。该种计费方式通常应用于品牌推广的直采包段等头部流量。

## CPM
Cost Per Mille，按千次展现计费
例如某个广告位千次曝光的价格为10元，则CPM=10。
如果广告主A的一条广告CPM出价为每千次10元，广告主B的一条广告CPM出价为每千次12元，那么媒体平台就根据CPM出价进行排序

## CPC
Cost Per Click，是指点击计费，按照每次广告点击的价格计费。例如某个广告单次点击价格为0.5元，则CPC=0.5。
流量变现的主要计费方式，多见于媒体自建的投放平台，如头条、阿里直通车、京东快车、美团广平，聚焦引流效果。
如果广告主A的一条广告CPC出价为0.3元，广告主B的一条广告CPC出价为0.4元，这个时候媒体平台并不是直接出CPC出价更高的广告主B的广告，因为两个广告的点击率可能并不相同。这个时候媒体平台通常会用**点击率预估模型**，预估每个广告分别的**点击率（CTR）**，即从m到c的概率p(m->c)，再用
```text
eCPM=CTR*CPC*1000
（需要乘以1000是因为CPM是1000次展现的价格）
```
分别计算得到两条广告的**eCPM (estimated CPM)**。假设广告主A的点击率CTR_A预估为0.03，广告主B的广告CTR_B为0.02，那么计算得到
```text
eCPM_A = 0.03 *0.3 * 1000 = 9元
eCPM_B = 0.02 *0.4 * 1000 = 8元
```
再根据eCPM排序，出最高的广告主A的广告。

**行为价格换算公式：**

从m->c->i->a->p的过程中，每个行为A的价格，等于后续行为B的价格乘以行为A到行为B的比率。例如
```text
CPM=p(m->c) *CPC * 1000
(唯独CPM要多乘以1000）
CPC=p(c->a) *CPA
```

## CPA
Cost Per Action，按行为计费，一种按照广告投放实际效果计费的方式。
这里的行为可以是下载、激活、注册、加购、转单、新客等广告主后端业务指标。

**什么情况下可以使用CPA模型？**

如果a行为的数据，也是媒体平台能完全控制完整收集的，那么没有问题，CPA模式也是成立的。例如媒体平台是淘宝，广告主推广自己在淘宝的产品，那么淘宝可以完全掌控a的行为，那么做CPA（甚至CPS）是可以的。

如果a行为的数据，是由广告主收集的，再由广告主自己回传给媒体平台，那么把计费点移动到a就会有问题。比如广告主出价是80块一个a行为，那么广告主就有动力一直不回传a行为的数据，或者克扣部分a行为的数据给媒体平台，从而让媒体平台少收了广告主的钱。

所以我们可以得到一个准则：

**付费点通常不能超过媒体平台完全控制的行为点，不能到达由广告主收集的行为点。**

## CPS
Cost Per Sales，按销售成本计费，多见于联盟推广，是一种固定ROI的结算方式，以订单金额为base，约定佣金比例。

## CPD
Cost Per Download，按下载用户数计费，多见于App下载推广。

## CPI
Cost Per Install，每次安装成本，多见于App下载推广。

这几种计费方式中，CPM应用的最广，并且成为了流量质量（时间段、广告位、用户质量等）的衡量指标，由于整个市场是竞价环境，因此非TOP1的参竞是没有意义的，如果想获取更多的流量必须提升CPM的绝对值。但CPM高是否等同于流量贵呢？其实也不尽然，CPM=CTR\*CPC\*1000，该公式中CPC才是实质意义上的流量费用，因此，如果有超高的CTR，我们对于CPM较高的流量也是可以接受的，这也是我们激进创意的基本出发点。

## OCPX
**oCPX=计费点和出价点分离+连续竞价下的智能出价控制**
**即广告主把行为数据主动给媒体平台，由媒体平台免费为广告主提供把出价点价格转化成计费点价格的出价转换服务（通过预估p(c->a)的方式）。另外媒体平台提供在连续竞价下的智能出价控制服务。**

DSP会根据预估的p(c->a)将激活出价转换到点击出价，再根据p(m->c)转化到eCPM，然后再作竞价，因此：

CPM竞价=`CTR * CVR * 出价 * 1000`

**在oCPX出价模式中，广告主是否应该回传真实的行为数据？**

(1) 广告主只回传部分出价点的数据, 例如只回传50%

这种情况下，对于该广告主的p(计费点->出价点) 预估会偏小接近1半，导致广告主的出价偏低，拿不到量。

(2) 广告主回传更深度(或者更浅）的数据而不是出价点的数据，例如回传付费数据（或者下载），而不是原来约定的激活数据

这种情况下，广告主如果在出价里也填入的是付费出价（或者下载），那么对于这个广告主而言，oCPC-A就变成了oCPC-P或者oCPC-I。遗憾的是，如果其他大部分广告主还是回传的激活数，那么因为媒体平台在训练p(计费点->出价点）模型的时候，并不是只用该广告主自己的数据，而是也受到其他广告主数据的影响，那么这样做会因为训练目标的类型不一致，让这个广告主的p（计费点->出价点）的预估准确度受到负面影响，对广告主投放不利。

## ocpm
Optimized Cost per Mille的缩写，即优化千次展现出价
质还是按照cpm付费。采用更精准的点击率和转化率预估机制，将广告展现给最容易产生转化的用户，在获取流量的同时，提高转化率、降低转化成本，跑量提速更快。

![[Pasted image 20220308233527.png]]

![[Pasted image 20220309234457.png]]

从oCPC到oCPM，有两点变化:

第一个变化，在比率绝对值上，不求量广告主原来有动机不提高p（竞价点->计费点）的比率，在oCPM模式下两方动机一致了，是一个改进。

第二个变化，原来在oCPC模式下，原来媒体平台不管预估偏高偏低都会收入下降，但是在oCPM下，有动机预估偏高了，而且会损害广告主ROI，但是通过赔付机制可以弥补这个问题。

所以综合来看，从oCPC过度到oCPM对广告主没有什么利益损伤，对媒体平台来说，可以避免不求量广告主主动降低p(竞价点->计费点）的问题（虽然这个问题在充分竞争的流量上影响很小）。这可能是某条从oCPC转向oCPM的其中一个原因。

另外，某条的产品很多，有文字广告，图片广告，视频广告，所以转化链条也很多样，有的按点击收费，有的按播放3秒收费，有的按播放完收费，如果统一用m计费也有利于统一管理。但是FB和Google的广告产品还是可以让广告主自行选择oCPM还是oCPC，这两者的差异其实并不太大。

## OCPC
Optimized Cost per Click的缩写，即优化点击付费，本质还是按照cpc付费。

第一阶段
需要做的是**积累足够的点击和转化数据**，当达到条件的时候就会激活**第二阶段**

第二阶段
**会根据**第一阶段的**数据以转化为目标**智能优化 CPC以提高转化率，也就是要把**优化的重点放到CPA**上面。

如果广告平台发现**A用户** 对 **B广告**的转化概率高，广告平台可以适当提高**B广告主**的出价，使得**B广告主**更有机会抢到 A用户的曝光机会；如果转化概率低，则需要调低出价。

综上所述:oCPC与CPC区别有以下3点

1.oCPC是基于一种基于CPC以提高转化为目的的智能化付费推广方式，

2.oCPC的推广方式包括CPC和CPA

3.oCPC在推广初始阶段是不能使用的，须在以CPC推广积累到一定数据的时候才能激活。

4.ocpc出价点是转化出价，cpc是点击出价。两者的计费点都是点击计费。

![[Pasted image 20220308233511.png]]



## ocpa
Optimized Cost per Action的缩写，即优化行为出价，本质还是按照cpa付费。

## ecpm
ecpm = ctr x cvr x 出价 x ratio
ratio 即成本控制

在oCPM的连续竞价下，调价系统会通过调整Ratio的值，来达到使得最终付费成本等于广告主付费出价，也就是“四点三率两控制一加强”里的成本控制。这里把付费出价*Ratio看成是一个整体，那么它就是经过调价系统调节后的等效付费出价。如果当前付费成本小于付费出价，那么Ratio会被提高，从而使得等效付费出价提高，最终付费成本逐渐逼近付费出价；如果当前付费成本大于付费出价，那么Ratio会被减小，从而使得等效付费出价降低，最终付费成本也逐渐逼近付费出价。对于同一个pv请求，或者时间间隔很短的两个pv请求，同一个广告组的Ratio值是固定的。

# 四点
## 竞价点
其实不管是CPM，CPC还是后续的CPA，OCPM，oCPC，双出价等所有出价模式，绝大多数媒体平台最终都是根据换算公式，将出价换算成eCPM，再对eCPM排序后，选择eCPM最高的广告进行展现。这样媒体每个展现机会的收益可以很直接地被度量，也能最大化自身的利益。在本文中，我们讨论的“竞价点”都在m（展现）。

## 计费点
即媒体平台最后是按什么的个数来收广告主的钱。例如CPM中，是按照展现次数来收费，那么计费点就是m。而在CPC广告中，虽然按照eCPM排序来决定出哪个广告，但是对于出的广告，是按照点击次数来收费，这时计费点是c。

## 出价点
即广告主在媒体平台的投放后台里填写的是什么价格。在CPM和CPC广告中，出价点和计费点是在同一个行为，CPM的出价点也是m，填写的是千次展现价格, 而CPC广告出价点是c，填写的是每个点击的价格。而在oCPX中，出价点和计费点是分离的。

## 考核点
在广告投放中，广告主真正想要出价的可能不是展现或者点击，甚至也不是下载和付费，想要的是LTV（Life Time Value)，即这个用户在使用广告主产品的生命周期内给广告主带来的所有价值。在完美的世界里，广告主可以为每1元的LTV出价，例如出价0.8元。那么广告主的ROI就是1/0.8=1.25>1，广告主就可以躺着数钱了。可惜LTV通常很难核算出来，也很难量化，例如用户即使不付费买道具，也可能发挥陪玩玩家的价值。所以广告主在投放的时候，通常会找一个在链路中更前置的更好量化的指标来考核投放优化师的工作。例如考核一个付费用户的成本，或者七日ROI之类的，我们把这个点叫做考核点。后面的分析中，我们假设考核点为付费（缩写为p），实际中可以是别的点，但是不影响我们讨论的结论。

如图所示，在CPM出价模式下，竞价点/计费点/出价点都是m，考核点假设在p。而对于CPC出价模式，竞价点在m，计费点/出价点在c，考核点假设在p。

![[Pasted image 20220308000441.png]]

对应着四个点的，就是三个比率，p(竞价点->计费点), p(计费点->出价点), p(出价点->考核点)。

# 三率
![[Pasted image 20220308233717.png]]

## 考核率p(出价点->考核点）
![[Pasted image 20220308002451.png]]

对于任何一个用户，广告主都是显式或者隐式地用固定的一个值（虽然会调整，但是同一时刻对于不同流量是固定的）来预估p(出价点->考核点)，从而把付费出价转化成出价点出价。显然事实上每个用户的这个比率是不一样的。因此这个预估值有时候会偏高，造成出价点出价过高，广告主ROI下降，对于媒体平台来说，收入增加；有时候偏低，造成竞价点的CPM值偏低，竞价不利，不能获得足够的量，对于媒体平台来说，收入下降。

由广告主用固定值预估的p(出价点->考核点)偏高偏低都会让广告主自身利益受损，因此广告主有动力通过调整出价来调整这个预估值，提高准确度。

### CPM出价模式
CPM的考核率：`p(m->p)`

`cpm = p(m->p)* 隐含付费出价 *1000`

假设我们在推广一款游戏，通过核算得到一个付费用户的获取成本在80元以下，就能有钱赚。也就是说，广告主（或者投放优化师）内心有个隐含的付费用户出价（即隐含CPP=80元），后续简称为付费出价。那么广告主会根据之前的投放数据，估计一个从p(m->p)的概率，假设估计点击率CTR p(m->c)大概0.03，p(c->i)大概0.1，p(i->a)大概0.4，p(a->p)大概0.1，那么整个p(m->p)就是0.03*0.1*0.4*0.1=0.00012,所以有

```text
cpm = p(m->p)* 隐含付费出价 *1000
cpm = 0.00012 *80 * 1000 = 9.6元
```

有些投过广告的读者可能会说了，“我投放的时候可从来没这么算过”。对，实际操作中，广告主并不都是显式地这么干，他们通常是先设置一个经验CPM，然后看报表的付费用户成本，付费成本高于80，就调低价格；如果低于80，就调高价格。最后实际上达成的效果，和上面描述的是一个意思:

即在广告主的出价中，会隐式地包含一个用固定值预估的p(出价点->考核点），在CPM中为p(m->p)，从而将考核点的出价（付费出价），换算得到出价点的出价（即CPM出价）

### CPC出价模式
CPC的考核率：`p(c->p)`

广告主的CPC出价中，会隐式地包含一个用固定值预估的p(出价点->考核点），在CPC中为p(c->p)，从而将考核点的出价（付费出价），换算得到出价点的出价（即CPC出价）

## 计费率p(竞价点->计费点）
CPC广告：`p(m -> c)`
CPA广告：`p(m -> a)`

![[Pasted image 20220308230636.png]]

和CPM不一样，从m到c这一段，也就是p(竞价点->计费点）这一段的预估，是由媒体平台通过机器学习来预估的。每一个用户每一个广告在不同的上下文（context)的预估值通常都是不一样的。

如果对某一条广告的预估值偏高，那么该广告在竞价点的CPM会比较高（因为CPM=p(竞价点->计费点）* p(计费点->出价点）* 出价点的出价），抢占了其他广告的展现机会，但是实际发生的计费数又少，广告平台的收入就降低了。对于广告主来说，计费数少计费也会成比例少，最终ROI没有明显变化。

如果对某一条广告的预估值偏低，那么该广告在竞价点的CPM会比较低，竞价队列里不是最优的广告会排到更前面，导致广告平台的收入也降低。对于广告主来说，拿到的量就少了。

所以我们看到，媒体平台对于p(竞价点->计费点）的预估越准确，收入越高。对于广告主来说，主要就是影响拿量的多少，相对来说，影响较小。

![[Pasted image 20220308230757.png]]


## 出价率p(计费点->出价点)
oCPC广告：`p(c -> a)`

p(计费点->出价点）越高，根据广告主出价点的出价换算到计费点出价再换算到竞价点的CPM出价也会越高，广告平台收入提升。对于求量广告主来说，这个比率越高，换算的CPM出价也越高，越容易拿到量。对于不求量的广告主，保持付费点出价不变的情况下，获得更多的出价点行为，ROI得到提升。

我们可以发现在提高 p(计费点->出价点）比率的真实值上，媒体平台和广告主的利益也是一致的。

对于由媒体平台用模型预估的预估值，如果偏高的话，广告主在计费点的出价就会偏高，导致ROI下降。如果偏低的话，导致换算到竞价点的CPM偏低，拿不到量。对于媒体平台来说，预估值偏高，会换算得到更高的计费点出价和竞价点CPM出价，收入增加。而预估偏低的话，从出价点换算得到的CPM就比较低了，广告队列竞争激烈程度不够，媒体平台收入下降。

# 两控制：连续竞价下的智能出价控制
常见于OCPX广告
但因为投放是一个连续的多次拍卖行为，一方面广告主给出的价格是多次竞价的平均价格，前期拍卖的结果会对广告主后续能接受的最高价格有影响（例如前期买便宜了，后面出价可以出高点）。
另一方面，有的广告主也有预算限制。因为这两个原因，所以有必要根据过去拍卖的结果，对每次的出价进行调整。每个原因对应一种控制。

详见：[[智能出价]]

# 一加强
![[Pasted image 20220310004215.png]]
添加一个加强点的预估，达到更为精准的出价。

回顾一下前面的内容，出价点与计费点分离且更靠近链路后端能带来更好的效果，前提是媒体平台对p(计费点->出价点)要比广告主隐含地用固定值预估的p(计费点->出价点)要更准才行。但有时候，因为数据较少或者其他原因，对于p(a->p)这个比率，媒体平台用数据预估的比率，比广告主隐含地用固定值预估的值更加不准确。那么这一段就不能放到计费点->出价点了。这也就是为什么不能把出价点后移到加强点的原因。
但是媒体平台的数据也不能浪费了，可以用来对广告主隐含地用固定值预估的值进行加强

```text
ecpm_adj= p(竞价点->出价点)*p_adj(出价点->加强点)*加强点出价
```

```text
ecpm_adj= p(竞价点->出价点)* p_广告主预估(出价点->加强点) 
          *adj(x) *(出价点出价/ p_广告主预估(出价点->加强点))
```

```text
ecpm_adj= p(竞价点->出价点)*adj(x)*出价点出价
```

